<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Thu Jul  4 16:01:54 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>compute_transmission.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="compute_transmission.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;**************************************************************************************</span>
<span class="comments">;**************************************************************************************</span>
<span class="comments">;*</span>
<span class="comments">;* NAME:</span>
<span class="comments">;*      COMPUTE_TRANSMISSION    </span>
<span class="comments">;* </span>
<span class="comments">;* PURPOSE:</span>
<span class="comments">;*      THIS FUNCTION COMPUTES THE TOTAL TRANSMISSION (UPWELLING AND DOWNWELLING) DUE </span>
<span class="comments">;*      TO OZONE, WATER VAPOUR AND GASEOUS ABSORPTION</span>
<span class="comments">;*</span>
<span class="comments">;* CALLING SEQUENCE:</span>
<span class="comments">;*      RES = COMPUTE_TRANSMISSION(TO3,O3,TH2O,WV,TGAS,THETAS,THETAV)</span>
<span class="comments">;* </span>
<span class="comments">;* INPUTS:</span>
<span class="comments">;*      TO3     - A SCALAR OR ARRAY OF OZONE TRANSMISSION VALUES</span>
<span class="comments">;*      O3      - A SCALAR VALUE OF THE OZONE CONCENTRATION      </span>
<span class="comments">;*      TH2O    - A SCALAR OR ARRAY OF OZONE TRANSMISSION VALUES</span>
<span class="comments">;*      WV      - A SCALAR VALUE OF THE WATER VAPOUR CONCENTRATION  </span>
<span class="comments">;*      TGAS    - A SCALAR OR ARRAY OF GASEOUS TRANSMISSION VALUES</span>
<span class="comments">;*      THETAS  - A SCALAR VALUE OF THE SOLAR ZENITH ANGLE IN DEGREES</span>
<span class="comments">;*      THETAV  - A SCALAR VALUE OF THE VIEWING ZENITH ANGLE IN DEGREES</span>
<span class="comments">;*</span>
<span class="comments">;*      NOTE, T03,TH2O AND TGAS MUST BE OF THE SAME NUMER OF ELEMENTS</span>
<span class="comments">;*</span>
<span class="comments">;* KEYWORDS:</span>
<span class="comments">;*      VERBOSE   - PROCESSING STATUS OUTPUTS</span>
<span class="comments">;*</span>
<span class="comments">;* OUTPUTS:</span>
<span class="comments">;*      TRANS_2   - THE COMPUTED TRANSMISSION VALUE(S)</span>
<span class="comments">;*</span>
<span class="comments">;* COMMON BLOCKS:</span>
<span class="comments">;*      NONE</span>
<span class="comments">;*</span>
<span class="comments">;* MODIFICATION HISTORY:</span>
<span class="comments">;*      20 APR 2011 - C KENT   - DIMITRI-2 V1.0</span>
<span class="comments">;*</span>
<span class="comments">;* VALIDATION HISTORY:</span>
<span class="comments">;*      </span>
<span class="comments">;*</span>
<span class="comments">;**************************************************************************************</span>
<span class="comments">;**************************************************************************************</span>

FUNCTION COMPUTE_TRANSMISSION,TO3,O3,TH2O,WV,TGAS,THETAS,THETAV,VERBOSE=VERBOSE

<span class="comments">;---------------------------</span>
<span class="comments">; DEFINE DEFUALT PARAMETERS</span>

  REF_O3 = 300.0
  REF_WV = 2.0

<span class="comments">;---------------------------</span>
<span class="comments">; COMPUTE TEMPORARY PARAMETERS</span>

  TEMP_OZONE  = TO3*(O3/REF_O3)
  TEMP_WV     = TH2O*(WV/REF_WV)
  TEMP_ANG    = (1./COS(THETAS*!DTOR))+(1./COS(THETAV*!DTOR))

<span class="comments">;---------------------------</span>
<span class="comments">; COMBINE INTO FINAL TRANSMISSION</span>

  TRANS_1 = -(TEMP_OZONE+TEMP_WV+TGAS)*TEMP_ANG
  TRANS_2 = exp(TRANS_1)

  IF KEYWORD_SET(VERBOSE) THEN PRINT,'COMPUTE_TRANSMISSION: COMPUTED TRANSMISSION = ',TRANS_2
  RETURN,TRANS_2

END
</code>
    </div>
  </body>
</html>