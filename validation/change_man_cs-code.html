<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Thu Jul  4 16:01:55 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>change_man_cs.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="change_man_cs.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="change_man_cs:source"></a>pro change_man_cs

site = 'Uyuni'
sensor = 'VEGETATION'
procv = 'Calibration_1'
val = 1
dates = double([$
2003.089325d,2003.092028d,2003.100328d,2003.103031d,2003.11133d,2003.122144d,2003.127739d,2003.13585d,2003.138742d,2003.141446d,2003.155152d,2003.182563d,2003.245497d,2003.253796d,2003.325029d,2003.681192d,2003.823657d,2003.853772d,2003.993533d,2004.018003d,2004.048036d,2004.056312d,2004.059008d,2004.061704d,2004.075372d,2004.130046d,2004.132743d,2004.135627d,2004.179329d,2004.198389d,2004.201085d,2004.203781d,2004.209362d,2004.212057d,2004.21745d,2004.250367d,2004.321406d,2004.747636d,2004.818674d,2004.889712d,2005.045581d,2005.048285d,2005.081103d,2005.083806d,2005.201752d,2005.204455d,2005.207155d,2005.209862d,2005.218161d,2005.220864d,2005.226271d,2005.231867d,2005.237273d,2005.259279d,2005.264681d,2005.272984d,2005.388038d,2005.45927d,2005.530502d,2005.672966d,2005.744198d,2005.757904d,2005.77161d,2005.81543d,2005.829136d,2005.850952d,2005.853655d,2005.859251d,2005.861954d,2005.886662d,2005.903071d,2005.922183d,2005.957894d,2005.985306d,2006.001716d,2006.029128d,2006.031831d,2006.072949d,2006.199006d,2006.20171d,2006.215416d,2006.218119d,2006.229121d,2006.231825d,2006.234528d,2006.237231d,2006.242828d,2006.24553d,2006.248234d,2006.253641d,2006.256534d,2006.259237d,2006.26194d,2006.286649d,2006.360584d,2006.363288d,2006.385293d,2006.456526d,2006.527759d,2006.598992d,2006.670225d,2006.744161d,2006.746865d,2006.76887d,2006.793389d,2006.798985d,2006.820801d,2006.840103d,2006.842806d,2006.845509d,2006.870218d,2006.883924d,2006.916742d,2006.955156d,2006.96597d,2007.029092d,2007.034498d,2007.056504d,2007.06191d,2007.07021d,2007.083915d,2007.086619d,2007.089322d,2007.097621d,2007.105731d,2007.111327d,2007.130439d,2007.160554d,2007.168854d,2007.176964d,2007.311318d,2007.881176d,2007.952409d,2007.960518d,2008.034361d,2008.113674d,2008.130039d,2008.143707d,2009.018153d,2009.02356d,2009.045565d,2009.089387d,2009.190737d,2009.815434d,2009.818137d,2010.031838d,2010.045544d $
])

<span class="comments">;------------------------</span>
<span class="comments">;READ DATABASE</span>

  DB_FILE   = GET_DIMITRI_LOCATION('DATABASE')
  IFOLDER   = GET_DIMITRI_LOCATION('INPUT')
  DL        = PATH_SEP()
  DB_DATA   = READ_ASCII(DB_FILE,TEMPLATE=GET_DIMITRI_TEMPLATE(1,/TEMPLATE))


for ii=0l,N_elements(dates)-1 do begin
print, ii
res = where( db_data.region eq site and $
              db_data.sensor eq sensor and $
              db_data.processing_version eq procv and $
              abs(db_data.decimal_year - dates[ii]) lt 0.00005, count)
              
if count eq 0 then stop
<span class="comments">;if count gt 1 then stop</span>
if count ge 1 then db_data.manual_cs[res] = val

endfor

<span class="comments">;--------------------------</span>
<span class="comments">; SORT OUT NETCDFS</span>

    RES = WHERE(DB_DATA.REGION EQ SITE AND $
                DB_DATA.SENSOR EQ SENSOR AND $
                DB_DATA.PROCESSING_VERSION EQ PROCV,COUNT)
    IF COUNT  GT 0 THEN BEGIN     
    
      NEWVAR = DB_DATA.MANUAL_CS[RES]
      REL = UPDATE_DIMITRI_EXTRACT_TOA_NCDF(SITE,SENSOR,PROCv,'cloud_fraction_manual',NEWVAR)
    ENDIF

<span class="comments">;--------------------------  </span>
<span class="comments">; UPDATE DATABASE</span>

  RES = SAVE_DIMITRI_DATABASE(DB_DATA)


end
</code>
    </div>
  </body>
</html>