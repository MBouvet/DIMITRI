<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Thu Jul  4 16:02:15 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>vgt_child_product.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="vgt_child_product.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="vgt_child_product:source"></a>pro vgt_child_product, ifolder,ofolder,dl,icoords


<span class="comments">;is the main prog to extract vgt prodicts - will call a number of smaller routines for radiometry,aux data (eg wvap),angular data, and log file</span>


<span class="comments">;get latitude of parent product and find indexes of block of data for extraction</span>
  log_file = ifolder+'0001_LOG.TXT'
  prd_geo = GET_VEGETATION_LAT_LON(LOG_FILE)

  temp_dims = size(prd_geo.lat)

<span class="comments">;find block of pixels required for extraction</span>
  geo_id = where( $
                prd_geo.lat le icoords[0], $
                prd_geo.lat ge icoords[1], $
                prd_geo.lon le icoords[2], $
                prd_geo.lon ge icoords[3]  $
                )
  
  if geo_id[0] eq -1 then goto,no_child
  tmpx = float(geo_id)/float(temp_dims[1])
  xcoord = fix(tmpx)
  ycoord = float(temp_dims[1])*(tmpx-float(xcoord))
  pcoords = [max(ycoord),min(ycoord),max(xcoord),min(xcoord)] <span class="comments">;this contsin the pixel indexes to be extracted within ROI</span>
  gcoords = [prd_geo.lat[pcoords[0]],prd_geo.lat[pcoords[1]],prd_geo.lon[pcoords[2]],prd_geo.lon[pcoords[3]]]

<span class="comments">; create ofolder if it doesn't exist</span>
  if file_test(ofolder,/directory) eq 0 then file_mkdir,ofolder

<span class="comments">;correct</span>
<span class="comments">;; log file</span>
  vgt_child_log, log_file,ofolder,pcoords,gcoords


<span class="comments">; band data</span>
<span class="comments">; aux data</span>
<span class="comments">; angular data</span>

<span class="comments">; frig</span>
<span class="comments">; saving all data to the new output folder</span>

no_child:
end
</code>
    </div>
  </body>
</html>