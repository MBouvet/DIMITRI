<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Tue Jul  2 12:50:48 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cmsvlib.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cmsvlib.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="cmsvlib:source"></a>function cmsvlib, version=version, query=query
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;   CMSVLIB</span>
<span class="comments">;</span>
<span class="comments">; AUTHOR:</span>
<span class="comments">;   Craig B. Markwardt, NASA/GSFC Code 662, Greenbelt, MD 20770</span>
<span class="comments">;   craigm@lheamail.gsfc.nasa.gov</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;   Initialize the CMSVLIB save library</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;   VALUE = CMSVLIB(/QUERY, VERSION=version)</span>
<span class="comments">;   </span>
<span class="comments">; DESCRIPTION: </span>
<span class="comments">;</span>
<span class="comments">;   This function initializes the CMSVLIB library to read, write and</span>
<span class="comments">;   interrogate IDL save files.  Use the QUERY keyword to determine</span>
<span class="comments">;   whether the full CMSVLIB library is present.</span>
<span class="comments">;</span>
<span class="comments">;   The VERSION keyword allows the user to query the version number of</span>
<span class="comments">;   the CMSVLIB library.  The library version number will be returned</span>
<span class="comments">;   as a string of the form "X.Y" where X is the major version number</span>
<span class="comments">;   and Y is the minor version number.  Callers can use this version</span>
<span class="comments">;   number to decide whether this particular version of the library is</span>
<span class="comments">;   compatible with their usage.</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">;   The procedures in the library are:</span>
<span class="comments">;</span>
<span class="comments">;    High-level</span>
<span class="comments">;      CMSAVE - save variables to a save file</span>
<span class="comments">;      CMRESTORE - restore variables from a save file</span>
<span class="comments">;      CMSAVEDIR - list contents of a save file </span>
<span class="comments">;      CMSVLIB (function) - this file</span>
<span class="comments">;</span>
<span class="comments">;    Mid-level  </span>
<span class="comments">;      CMSV_OPEN - open a save file for reading or writing</span>
<span class="comments">;      CMSVREAD - read non-pointer data from file</span>
<span class="comments">;      CMSVWRITE - write non-pointer data to file</span>
<span class="comments">;</span>
<span class="comments">;    Low-level</span>
<span class="comments">;      CMSV_RREC - read record from save file</span>
<span class="comments">;      CMSV_RVTYPE - read variable type information from file</span>
<span class="comments">;      CMSV_RDATA - read variable data from file</span>
<span class="comments">;      CMSV_WREC - write record to save file</span>
<span class="comments">;      CMSV_WVTYPE - write variable type information to file</span>
<span class="comments">;      CMSV_WDATA - write variable data to file</span>
<span class="comments">;</span>
<span class="comments">;    Utility</span>
<span class="comments">;      CMSV_RRAW (function) - read raw integer or string data from file</span>
<span class="comments">;      CMSV_WRAW - write raw integer or string data to file</span>
<span class="comments">;      CMSV_PTRSUM - create a heap data inventory</span>
<span class="comments">;      CMSV_TEST - test the library</span>
<span class="comments">;      TAGSIZE (function) - determine the types of all tags in a structure</span>
<span class="comments">;      HELPFORM (function) - create HELP-like string describing a variable</span>
<span class="comments">;</span>
<span class="comments">;   This procedure is part of the CMSVLIB SAVE library for IDL by</span>
<span class="comments">;   Craig Markwardt.  You must have the full CMSVLIB core package</span>
<span class="comments">;   installed in order for this procedure to function properly.  </span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; ==================================================================</span>
<span class="comments">;   Research Systems, Inc. has issued a separate license intended</span>
<span class="comments">;   to resolve any potential conflict between this software and the</span>
<span class="comments">;   IDL End User License Agreement. The text of that license</span>
<span class="comments">;   can be found in the file LICENSE.RSI, included with this</span>
<span class="comments">;   software library.</span>
<span class="comments">; ==================================================================</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;</span>
<span class="comments">;   None</span>
<span class="comments">;</span>
<span class="comments">; KEYWORDS:</span>
<span class="comments">;</span>
<span class="comments">;   QUERY - if set, determine whether the CMSVLIB library is</span>
<span class="comments">;           installed.  Function returns 1 upon success, 0 upon</span>
<span class="comments">;           failure.</span>
<span class="comments">;</span>
<span class="comments">;   VERSION - upon return, the VERSION keyword will be set to a string</span>
<span class="comments">;             describing the version number of the CMSVLIB library.</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; SEE ALSO:</span>
<span class="comments">;</span>
<span class="comments">;   CMRESTORE, SAVE, RESTORE, CMSVLIB</span>
<span class="comments">;</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;   Written, 2000</span>
<span class="comments">;   Documented, 24 Jan 2001</span>
<span class="comments">;   Added notification about RSI License, 13 May 2002, CM</span>
<span class="comments">;   Documented the VERSION keyword, 22 Nov 2009, CM</span>
<span class="comments">;</span>
<span class="comments">; LIBRARY MODIFICATIONS</span>
<span class="comments">;   1.0 - initial release</span>
<span class="comments">;   1.1 - 2003-06-28 - CMSV_RREC - added NOTICE record type</span>
<span class="comments">;   1.2 - 2006-03-07 - CMSV_RVTYPE - avoid reserved word INHERITS</span>
<span class="comments">;   1.3 - 2006-03-27 - CMSV_WDATA - add support to write bytes & empty</span>
<span class="comments">;         strings</span>
<span class="comments">;   1.4 - 2009-11-16 - CMSV_RREC - NEXTREC field is ULONG</span>
<span class="comments">;   1.5 - 2009-11-22 - CMSV_RDATA - clarify & speed some code</span>
<span class="comments">;   1.6 - 2010-01-11 - CMSV_RREC - read 64-bit files</span>
<span class="comments">;   1.7 - 2012-04-05 - CMSV_WRAW - writing strings >128 fixed</span>
    version = '1.7'  <span class="comments">;; NOTE: modify this when incrementing version number</span>
<span class="comments">;</span>
<span class="comments">; $Id: cmsvlib.pro,v 1.7 2012/04/05 20:43:10 cmarkwar Exp $</span>
<span class="comments">;</span>
<span class="comments">;-</span>
<span class="comments">; Copyright (C) 2000-2001, 2009, 2010, 2012, Craig Markwardt</span>
<span class="comments">; This software is provided as is without any warranty whatsoever.</span>
<span class="comments">; Permission to use, copy, modify, and distribute modified or</span>
<span class="comments">; unmodified copies is granted, provided this copyright and disclaimer</span>
<span class="comments">; are included unchanged.</span>
<span class="comments">;-</span>


  forward_function cmsv_rraw

  catch, catcherr
  if catcherr EQ 0 then cmsv_open, /query
  catch, /cancel
  if catcherr NE 0 then $
    message, 'ERROR: The complete CMSVLIB library must be in your IDL path.'

  return, 1
end
</code>
    </div>
  </body>
</html>