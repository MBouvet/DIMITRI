<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Thu Jul  4 16:01:33 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cmsv_rvtype.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cmsv_rvtype.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="cmsv_rvtype-code.html" title="Chromocoded source">Source</a> <a href="cmsv_rvtype.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="../idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">gdl/</h2>
      <h1 class="basename">cmsv_rvtype.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      
      <div id="file_comments">
        <div class="small "><p> NAME:
   CMSV_RVTYPE
</p>

<p> AUTHOR:
   Craig B. Markwardt, NASA/GSFC Code 662, Greenbelt, MD 20770
   craigm@lheamail.gsfc.nasa.gov
</p>

<p> PURPOSE:
   Read variable type information from input block or file unit
</p>

<p> CALLING SEQUENCE:
   CMSV_RVTYPE, BLOCK, POINTER, NAME, SIZE, UNIT=UNIT, $
          TEMPLATE=TEMPLATE, SUFFIX=SUFFIX, $
          /NO_CREATE, /NO_TYPE, /HEAP, /SYSTEM, $
          STRUCTURE_NAME=STNAME, $
          NAMED_STRUCTS=STRUCTS, NAMED_CLASSES=CLASSES, $
          OFFSET=OFFSET, STATUS=STATUS, ERRMSG=ERRMSG
</p>

<p> DESCRIPTION:
</p>

<p>   CMSV_RVTYPE reads the type portion of an IDL SAVE variable record.
   An IDL variable is stored in two components: the type descriptor
   which describes the name, type, and dimensions of the variable;
   and the data record, which contains the raw data of the variable.
   This procedure reads the type descriptor returns it to the user.
   This procedure can also determine the name of a variable; the heap
   index number of a heap variable; and other important information.
   Once the type of the data has been determined, the data portion
   can be read using the CMSV_RDATA procedure.
</p>

<p>   CMSV_RVTYPE should recognize and correctly return type descriptor
   information about all known IDL data types, as of this writing.
   It should be noted that CMSV_RDATA will not necessarily be capable
   of reading all of these data types, but the description of the
   data should still be readable.  Users can then use this
   information to print a summary of the file contents for example.
</p>

<p>   The type information are normally returned in the SIZE parameter,
   which gives the IDL variable type, and the dimensions of the
   variable just as the IDL built-in function SIZE() would do.
   However, in the case of structures, there is much more information
   to convey.  To assist the user a blank template structure is
   returned in the keyword parameter TEMPLATE, which they can then
   pass on to CMSV_RDATA.
</p>

<p>   Users should be aware of structure and class name clashes.  The
   problem arises because CMSV_RVTYPE must actually instantiate any
   named structures or classes in the file.  If these named
   structures clash with the definitions of the structures on the
   user's local computer, then an error will result.  To prevent
   this, the user can use the SUFFIX keyword.  If the SUFFIX keyword
   contains a string, then this string is appended to any structure
   names discovered in the save file, before instantiation.  Thus, as
   long as the suffix is a unique string, there will be no clashes
   with local structure definitions.  Users are advised to pick a
   different suffix for *each* save file that they open.
</p>

<p>   CMSV_RVTYPE also provides some diagnostic information about the
   variable.  Users can pass the NAMED_STRUCTS and NAMED_CLASSES
   keywords in order to discover what named structures, classes and
   superclasses are stored in the save file (this is especially
   useful with the NO_TYPE keyword).  Since the contents of
   NAMED_STRUCTS and NAMED_CLASSES are not destroyed, but appended to
   instead, users are advised to clear these variables when opening
   each new file.
</p>

<p> ==================================================================
   Research Systems, Inc. has issued a separate license intended
   to resolve any potential conflict between this software and the
   IDL End User License Agreement. The text of that license
   can be found in the file LICENSE.RSI, included with this
   software library.
 ==================================================================
</p>

<p> BLOCK, POINTER, OFFSET
</p>

<p>   This procedure can read data from a byte array, a file unit, or
   both.  In fact, this procedure is designed to implement "lazy"
   reading from a file, which is to say, it normally reads from a
   byte array of data.  However, if the requested data goes beyond
   the end of the byte array, more data is read from the file on
   demand.  This way the user gets the benefit of fast memory access
   for small reads, but guaranteed file access for large reads.
</p>

<p>   The terminology is as follows: BLOCK is a byte array which
   represents a portion of, or an entire, IDL SAVE file.  The block
   may be a cached portion of an on-disk file, or an entire in-memory
   SAVE file.  POINTER is the current file pointer within BLOCK
   (i.e., the next byte to be read is BLOCK[POINTER]).  Hence, a
   POINTER value of 0 refers to the start of the block.  OFFSET is
   the file offset of the 0th byte of BLOCK; thus "POINT_LUN,
   OFFSET+POINTER" should point to the same byte as BLOCK[POINTER].
   The following diagram shows the meanings for BLOCK, POINTER and
   OFFSET schematically:
</p>

<p>                 0 &lt;-  OFFSET  -&gt; |
   FILE          |----------------|------*--------|---------&gt;
</p>

<p>   BLOCK                          |------*--------|
                                  0      ^ POINTER
</p>

<p>   This procedure is part of the CMSVLIB SAVE library for IDL by
   Craig Markwardt.  You must have the full CMSVLIB core package
   installed in order for this procedure to function properly.
</p>

<p> INPUTS:
</p>

<p>   BLOCK - a byte array, a cache of the SAVE file.  Users will
           usually not access this array directly.  Users are advised
           to clear BLOCK after calling POINT_LUN.
</p>

<p>   POINTER - a long integer, a pointer to the next byte to be read
             from BLOCK.  CMSVLIB routines will automatically
             advance the pointer.
</p>

<p>   NAME - upon return, the identifier of the variable.  For named
          variables, NAME is a string.  For heap variables, NAME is
          an integer heap index.
</p>

<p>   SIZE - upon return, an integers array describing the variable type
          and size, in the same format as returned by the built-in
          function SIZE.
</p>

<p> KEYWORDS:
</p>

<p>   TEMPLATE - upon return, if the variable is a structure, TEMPLATE
              will contain a single blank template structure, which
              can be used in calls to CMSV_RDATA.
</p>

<p>   NO_CREATE - if set, then do not create any template structures
               (saves execution time and structure name clashes).
</p>

<p>   NO_TYPE - if set, do not read type information.  CMSV_RVTYPE
             returns only the variable NAME or heap index.
</p>

<p>   HEAP - if set, then read the variable type assuming it is a heap
          variable (a HEAP_DATA record).
</p>

<p>   SYSTEM - if set, then read the variable type assuming it is a
            system variable (a SYSTEM_VARIABLE record).
</p>

<p>   SUFFIX - a scalar string, the suffix to be appended to any
            structure names to force them to be unique.
</p>

<p>   STRUCTURE_NAME - upon return, if the variable is a named
                    structure, STRUCTURE_NAME will contain the name
                    of the structure as a string.
</p>

<p>   NAMED_CLASSES /
   NAMED_STRUCTS - upon input, this keyword should contain an
                   undefined or a string array value.
</p>

<p>                   If the variable contains any named structure/class
                   definitions, CMSV_RVTYPE will append those names
                   upon return, including any enclosed structures or
                   superclasses.
</p>

<p>   UNIT - a file unit.  If a library routine reads to the end of
          BLOCK, or if BLOCK is undefined, then this file UNIT will
          be accessed for more data.  If undefined, then BLOCK must
          contain the entire file in memory.
</p>

<p>   OFFSET - the file offset of byte zero of BLOCK.  Default: 0
            (OFFSET is not used by this routine at this time)
</p>

<p>   STATUS - upon return, this keyword will contain 1 for success and
            0 for failure.
</p>

<p>   ERRMSG - upon return with a failure, this keyword will contain the
            error condition as a string.
</p>

<p> EXAMPLE:
</p>

<p> SEE ALSO:
</p>

<p>   CMRESTORE, SAVE, RESTORE, CMSVLIB
</p>

<p> MODIFICATION HISTORY:
   Written, 2000
   Documented, 24 Jan 2001
   Added notification about RSI License, 13 May 2002, CM
   Avoid using reserved word INHERITS, 07 Mar 2006, CM
   NOTE: remember to modify CMSVLIB.PRO when changing library!
</p>

<p> $Id: cmsv_rvtype.pro,v 1.13 2009/11/22 22:50:49 craigm Exp $
</p>

<p></p>

</div>
      </div>
      

      

      

      

      

      
      <div>
        <h2>Routines</h2>

        <dl class="routine-summary">
          
            <dt class="syntax"><a href="#cmsv_rarrdesc"><code>cmsv_rarrdesc<span class="argument">, block</span><span class="argument">, pointer</span><span class="argument">, sz</span><span class="argument">, status=<span class="var">status</span></span><span class="argument">, unit=<span class="var">unit</span></span><span class="argument">, errmsg=<span class="var">errmsg</span></span></code></a></dt>
            <dd class="small"></dd>
          
            <dt class="syntax"><a href="#cmsv_rstructdesc"><code>cmsv_rstructdesc<span class="argument">, block</span><span class="argument">, pointer</span><span class="argument">, template</span><span class="argument">, unit=<span class="var">unit</span></span><span class="argument">, status=<span class="var">status</span></span><span class="argument">, errmsg=<span class="var">errmsg</span></span><span class="argument">, suffix=<span class="var">suffix</span></span><span class="argument">, structure_name=<span class="var">structure_name</span></span><span class="argument">, no_create=<span class="var">no_create</span></span><span class="argument">, named_structs=<span class="var">named_structs</span></span><span class="argument">, named_classes=<span class="var">named_classes</span></span></code></a></dt>
            <dd class="small"></dd>
          
            <dt class="syntax"><a href="#cmsv_rvtype"><code>cmsv_rvtype<span class="argument">, block</span><span class="argument">, pointer</span><span class="argument">, result</span><span class="argument">, sz</span><span class="argument">, unit=<span class="var">unit</span></span><span class="argument">, offset=<span class="var">offset</span></span><span class="argument">, status=<span class="var">status</span></span><span class="argument">, errmsg=<span class="var">errmsg</span></span><span class="argument">, template=<span class="var">template</span></span><span class="argument">, no_create=<span class="var">no_create</span></span><span class="argument">, no_type=<span class="var">no_type</span></span><span class="argument">, heap=<span class="var">heap</span></span><span class="argument">, system=<span class="var">system</span></span><span class="argument">, suffix=<span class="var">suffix</span></span><span class="argument">, structure_name=<span class="var">structure_name</span></span><span class="argument">, named_structs=<span class="var">named_structs</span></span><span class="argument">, named_classes=<span class="var">named_classes</span></span></code></a></dt>
            <dd class="small"></dd>
          
        </dl>
      </div>
      


      
      <div id="routine-details">
        <h2>Routine details</h2>

        
        <div class="routine-details details" id="cmsv_rarrdesc">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cmsv_rvtype-code.html#cmsv_rarrdesc:source" class="top">source</a> cmsv_rarrdesc<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>cmsv_rarrdesc<span class="argument">, <a href="#cmsv_rarrdesc:p:block">block</a></span><span class="argument">, <a href="#cmsv_rarrdesc:p:pointer">pointer</a></span><span class="argument">, <a href="#cmsv_rarrdesc:p:sz">sz</a></span><span class="argument">, <a href="#cmsv_rarrdesc:k:status">status</a>=<span class="var">status</span></span><span class="argument">, <a href="#cmsv_rarrdesc:k:unit">unit</a>=<span class="var">unit</span></span><span class="argument">, <a href="#cmsv_rarrdesc:k:errmsg">errmsg</a>=<span class="var">errmsg</span></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cmsv_rarrdesc:p:block">block <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rarrdesc:p:pointer">pointer <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rarrdesc:p:sz">sz <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="cmsv_rarrdesc:k:status">status <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rarrdesc:k:unit">unit <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rarrdesc:k:errmsg">errmsg <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        
        <div class="routine-details details" id="cmsv_rstructdesc">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cmsv_rvtype-code.html#cmsv_rstructdesc:source" class="top">source</a> cmsv_rstructdesc<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>cmsv_rstructdesc<span class="argument">, <a href="#cmsv_rstructdesc:p:block">block</a></span><span class="argument">, <a href="#cmsv_rstructdesc:p:pointer">pointer</a></span><span class="argument">, <a href="#cmsv_rstructdesc:p:template">template</a></span><span class="argument">, <a href="#cmsv_rstructdesc:k:unit">unit</a>=<span class="var">unit</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:status">status</a>=<span class="var">status</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:errmsg">errmsg</a>=<span class="var">errmsg</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:suffix">suffix</a>=<span class="var">suffix</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:structure_name">structure_name</a>=<span class="var">structure_name</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:no_create">no_create</a>=<span class="var">no_create</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:named_structs">named_structs</a>=<span class="var">named_structs</span></span><span class="argument">, <a href="#cmsv_rstructdesc:k:named_classes">named_classes</a>=<span class="var">named_classes</span></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cmsv_rstructdesc:p:block">block <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:p:pointer">pointer <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:p:template">template <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="cmsv_rstructdesc:k:unit">unit <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:status">status <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:errmsg">errmsg <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:suffix">suffix <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:structure_name">structure_name <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:no_create">no_create <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:named_structs">named_structs <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rstructdesc:k:named_classes">named_classes <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        
        <div class="routine-details details" id="cmsv_rvtype">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cmsv_rvtype-code.html#cmsv_rvtype:source" class="top">source</a> cmsv_rvtype<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>cmsv_rvtype<span class="argument">, <a href="#cmsv_rvtype:p:block">block</a></span><span class="argument">, <a href="#cmsv_rvtype:p:pointer">pointer</a></span><span class="argument">, <a href="#cmsv_rvtype:p:result">result</a></span><span class="argument">, <a href="#cmsv_rvtype:p:sz">sz</a></span><span class="argument">, <a href="#cmsv_rvtype:k:unit">unit</a>=<span class="var">unit</span></span><span class="argument">, <a href="#cmsv_rvtype:k:offset">offset</a>=<span class="var">offset</span></span><span class="argument">, <a href="#cmsv_rvtype:k:status">status</a>=<span class="var">status</span></span><span class="argument">, <a href="#cmsv_rvtype:k:errmsg">errmsg</a>=<span class="var">errmsg</span></span><span class="argument">, <a href="#cmsv_rvtype:k:template">template</a>=<span class="var">template</span></span><span class="argument">, <a href="#cmsv_rvtype:k:no_create">no_create</a>=<span class="var">no_create</span></span><span class="argument">, <a href="#cmsv_rvtype:k:no_type">no_type</a>=<span class="var">no_type</span></span><span class="argument">, <a href="#cmsv_rvtype:k:heap">heap</a>=<span class="var">heap</span></span><span class="argument">, <a href="#cmsv_rvtype:k:system">system</a>=<span class="var">system</span></span><span class="argument">, <a href="#cmsv_rvtype:k:suffix">suffix</a>=<span class="var">suffix</span></span><span class="argument">, <a href="#cmsv_rvtype:k:structure_name">structure_name</a>=<span class="var">structure_name</span></span><span class="argument">, <a href="#cmsv_rvtype:k:named_structs">named_structs</a>=<span class="var">named_structs</span></span><span class="argument">, <a href="#cmsv_rvtype:k:named_classes">named_classes</a>=<span class="var">named_classes</span></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cmsv_rvtype:p:block">block <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:p:pointer">pointer <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:p:result">result <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:p:sz">sz <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="cmsv_rvtype:k:unit">unit <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:offset">offset <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:status">status <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:errmsg">errmsg <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:template">template <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:no_create">no_create <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:no_type">no_type <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:heap">heap <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:system">system <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:suffix">suffix <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:structure_name">structure_name <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:named_structs">named_structs <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_rvtype:k:named_classes">named_classes <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Thu Nov 18 06:05:26 2010</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>559</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Thu Jul  4 16:01:33 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>