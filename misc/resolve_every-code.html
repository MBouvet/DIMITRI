<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Thu Jul  4 16:01:50 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>resolve_every.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="resolve_every.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">; $Id: resolve_every.pro,v 1.10 1999/01/22 20:12:17 mgs Stab $</span>
<span class="comments">;</span>
<span class="comments">; Copyright (c) 1995-1997, Research Systems, Inc.  All rights reserved.</span>
<span class="comments">;	Unauthorized reproduction prohibited.</span>
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	RESOLVE_EVERY</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Resolve (by compiling) all procedures and functions.</span>
<span class="comments">;	This is useful when preparing .sav files containing all the IDL</span>
<span class="comments">;	routines required for an application.</span>
<span class="comments">; CATEGORY:</span>
<span class="comments">;	Programming.</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	RESOLVE_EVERY</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;	None.</span>
<span class="comments">; KEYWORD PARAMETERS:</span>
<span class="comments">;	QUIET = if set, produce no messages.</span>
<span class="comments">; 	SKIP_ROUTINES = an optional string array containing the names</span>
<span class="comments">; 	    of routines to NOT resolve.  This is useful when a library</span>
<span class="comments">; 	    file containing the designated routines will be later included.</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;	No explicit outputs.</span>
<span class="comments">; COMMON BLOCKS:</span>
<span class="comments">;	None.</span>
<span class="comments">; SIDE EFFECTS:</span>
<span class="comments">; RESTRICTIONS:</span>
<span class="comments">;	Will not resolve procedures or functions that are called via</span>
<span class="comments">;	CALL_PROCEDURE, CALL_FUNCTION, or EXECUTE.  Only explicit calls</span>
<span class="comments">;	are resolved.</span>
<span class="comments">;</span>
<span class="comments">;	If an unresolved procedure or function is not in the IDL </span>
<span class="comments">;	search path, an error occurs, and no additional routines</span>
<span class="comments">;	are resolved.</span>
<span class="comments">;</span>
<span class="comments">; PROCEDURE:</span>
<span class="comments">;	This routine iteratively determines the names of unresolved calls</span>
<span class="comments">;	to user-written or library procedures and functions, and then</span>
<span class="comments">;	compiles them.  The process stops when there are no unresolved</span>
<span class="comments">;	routines.</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;	RESOLVE_EVERY.</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">; 	Written by:</span>
<span class="comments">;	DMS, RSI, January, 1995.</span>
<span class="comments">;	DMS, RSI, April, 1997, Added SKIP_ROUTINES keyword.</span>
<span class="comments">;     mgs, Harvard, 21 Apr 1998: use findfile before trying to resolve</span>
<span class="comments">;       a routine</span>
<span class="comments">;-</span>

PRO resolve_every, QUIET = quiet, SKIP_ROUTINES = skip_routines

if n_elements(quiet) ne 0 then begin
    quiet_save=!quiet
    !quiet = quiet
endif else quiet = 0

if n_elements(skip_routines) gt 0 then skipr = strupcase(skip_routines)

repeat begin
    cnt = 0
    a = ROUTINE_INFO(/UNRESOLVED)
    if n_elements(skip_routines) gt 0 then begin
        j = 0L
        for i=0, n_elements(a)-1 do if total(a(i) eq skipr) eq 0 then begin
            a[j] = a[i]
            j = j + 1
        endif
        if j gt 0 then a = a(0:j-1) else a = ''
    endif
    if strlen(a(0)) gt 0 then begin
        cnt = cnt + n_elements(a)
print,'resolving routines: ',a
        for nn=0,n_elements(a)-1 do begin
           thisone = findfile(strlowcase(a(nn)))
print,thisone
           if (thisone(0) eq '') then $
               print,'** Cannot find routine '+thisone+' ! **'  $
           else begin
               if quiet eq 0 then print,'Resolving procedure ', thisone
               resolve_routine, a(nn)
           endelse
        endfor
    endif

    a = ROUTINE_INFO(/FUNCTIONS, /UNRESOLVED)
    if n_elements(skip_routines) gt 0 then begin
        j = 0L
        for i=0, n_elements(a)-1 do if total(a(i) eq skipr) eq 0 then begin
            a[j] = a[i]
            j = j + 1
        endif
        if j gt 0 then a = a(0:j-1) else a = ''
    endif
    if strlen(a[0]) gt 0 then begin
        cnt = cnt + n_elements(a)
        for nn=0,n_elements(a)-1 do begin
           thisone = findfile(strlowcase(a(nn))+'.pro')
help,thisone
           if (thisone(0) eq '') then $
               print,'** Cannot find function '+a(nn)+' ! **'  $
           else begin
               if quiet eq 0 then print,'Resolving function: ', thisone(0)
               resolve_routine, thisone(0), /IS_FUNCTION
           endelse
        endfor
    endif
endrep until cnt le 0

if n_elements(quiet_save) ne 0 then !quiet = quiet_save
end
</code>
    </div>
  </body>
</html>