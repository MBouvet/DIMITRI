<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Tue Jul  2 12:51:06 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>dimitri_sade_interface_routines_p2.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="dimitri_sade_interface_routines_p2.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source">PRO DIMITRI_SADE_INTERFACE_ROUTINES_P2

<span class="comments">;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="comments">;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="comments">;</span>
<span class="comments">; SECTION 2: VGT SIMULATION</span>
<span class="comments">;</span>
<span class="comments">;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="comments">;0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>

<span class="comments">;----------------------------</span>
<span class="comments">; USAGE</span>
<span class="comments">;</span>
<span class="comments">; UPDATE THE PARAMETERS BELOW FOR YOUR SPECIFIC FOLDERS AND CRITERIA THEN RUN THE PROGRAM (NEED TO RESTORE DIMITRI_V2.SAV)</span>
<span class="comments">; ALL NOMINAL DIMITRI OUTPUTS WILL BE PLACED IN THE DEFINED "MFOLDER"</span>

<span class="comments">;----------------------------</span>
<span class="comments">; SET UP PARAMETERS - TO BE CHANGED</span>
  
  MAIN_DIR          = GET_DIMITRI_LOCATION('DIMITRI')<span class="comments">; FULL PATH OF THE MAIN DIMITRI DIRECTORY</span>
  print,'Main Dir___: ',MAIN_DIR
  MFOLDER           = filepath('',root_dir = MAIN_DIR, subdir=['Output','VGT_TEST_2']) <span class="comments">; FULL PATH OF THE OUTPUT FOLDER WITH MERIS AS REFERENCE</span>
  AFOLDER           = filepath('',root_dir = MAIN_DIR, subdir=['Output','VGT_TEST_2']) <span class="comments">; FULL PATH OF THE OUTPUT FOLDER WITH AATSR AS REFERENCE</span>
  <span class="comments">;REGION            = 'Niger2'                           </span>
  REGION            = 'DomeC'                           
  VZA_MIN           = 0.                                  <span class="comments">; VZA MIN ANGLE (DEGREES)</span>
  VZA_MAX           = 90.                                 <span class="comments">; VZA MAX ANGLE (DEGREES)</span>
  VAA_MIN           = 0.                                  <span class="comments">; VAA MIN ANGLE (DEGREES)</span>
  VAA_MAX           = 360.                                <span class="comments">; VAA MAX ANGLE (DEGREES)</span>
  SZA_MIN           = 0.                                  <span class="comments">; SZA MIN ANGLE (DEGREES)</span>
  SZA_MAX           = 90.                                 <span class="comments">; SZA MAX ANGLE (DEGREES)</span>
  SAA_MIN           = 0.                                  <span class="comments">; SAA MIN ANGLE (DEGREES)</span>
  SAA_MAX           = 360.                                <span class="comments">; SAA MAX ANGLE (DEGREES)  </span>
<span class="comments">;  SADE_DIR          = '/mnt/Projects/MEREMSII/WG_Reference_Dataset_2/distributable_files/' ;change this to the location of your sade files (note, region subdirectory in filepath below</span>
  CASE STRUPCASE(!VERSION.OS_FAMILY) OF 
  'WINDOWS': SADE_DIR = 'R:\MEREMSII\WG_Reference_Dataset\distributable_files\'
  'UNIX':    SADE_DIR = '/mnt/Projects/MEREMSII/WG_Reference_Dataset/distributable_files/'
  ENDCASE
  NO_PLOTS          = 1 <span class="comments">; 1 MEANS NO BRDF PLOTS (WHICH TAKE AWHILE) WILL BE GENERATED</span>
  <span class="comments">;BRDF_BIN          = 5 ; BINNING PERIOD FOR BRDF MODEL IN DAYS</span>
  <span class="comments">;BRDF_LIM          = 3 ; MINIMUM NUMBER OF ACQUISITIONS FOR A BRDF MODEL</span>
  BRDF_BIN          = 30 <span class="comments">; BINNING PERIOD FOR BRDF MODEL IN DAYS ; - Andrei, copied from Francoise's example</span>
  BRDF_LIM          = 10 <span class="comments">; MINIMUM NUMBER OF ACQUISITIONS FOR A BRDF MODEL ; - Andrei, copied from Francoise's example</span>

<span class="comments">;----------------------------</span>
<span class="comments">; NO NEED TO CHANGE THESE ONES</span>

  SENSOR1S          = ['MERIS','AATSR']  <span class="comments">; no need to change        </span>
  PROC_VER1S        = ['2nd_Reprocessing','2nd_Reprocessing'] <span class="comments">; no need to change     </span>
  VGT_PROC          = 'Calibration_1' <span class="comments">; no need to change</span>
  VGT_SADE          = FILEPATH(REGION+'_VEGETATION_Calibration_1.SADE',ROOT_DIR=SADE_DIR,SUBDIR=[REGION])<span class="comments">;no need to change</span>
  FOLS              = [MFOLDER,AFOLDER]

  print,'VGT_SADE: ',VGT_SADE
  print,'REGION: ',REGION
  print,'MFOLDER: ',MFOLDER
 
  <span class="comments">;stop </span>
  FOR IVOS=0,1 DO BEGIN
    SENSOR1=SENSOR1S[IVOS]
    PROC_VER1=PROC_VER1S[IVOS]
    OFOLDER = FOLS[IVOS]  
  
<span class="comments">;----------------------------</span>
<span class="comments">; BRDF COMPUTATION</span>
    RES = DIMITRI_INTERFACE_ROUJEAN(OFOLDER,REGION,SENSOR1,PROC_VER1,$
                                    BRDF_BIN=BRDF_BIN,BRDF_LIM=BRDF_LIM,NO_PLOTS=NO_PLOTS)
  
    IF RES[0] NE 1 THEN BEGIN
      PRINT, '******* ERROR, A PROBLEM OCCURED DURING BRDF COMPUTATION ********'
     <span class="comments">; RETURN</span>
    ENDIF

  ENDFOR <span class="comments">;END OF LOOP ON BRDF FOR MERIS AND AATSR</span>

<span class="comments">;----------------------------</span>
<span class="comments">; VGT SIMULATION</span>

  RES = VGT_SIMULATION(REGION,MFOLDER,PROC_VER1S[0],AFOLDER,PROC_VER1S[1],VGT_PROC,$
                       99.,1.0,BRDF_BIN,$
                       VZA_MIN,VZA_MAX,VAA_MIN,VAA_MAX,SZA_MIN,SZA_MAX,SAA_MIN,SAA_MAX,$                          
                       VERBOSE=VERBOSE,VGT_SADE=VGT_SADE)

  IF RES[0] NE 1 THEN BEGIN
    PRINT, '******* ERROR, A PROBLEM OCCURED DURING VGT SIMULATION ********'
    RETURN
  ENDIF
  
END
  
</code>
    </div>
  </body>
</html>